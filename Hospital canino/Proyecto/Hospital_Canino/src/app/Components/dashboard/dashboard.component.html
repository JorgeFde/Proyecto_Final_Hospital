<div class="containerPrimary">
  <!--Nav Bar-->
  <div class="containerNavBar">
    <mat-toolbar class="matToolbarNav">
      <img src="assets/logo.png" alt="Logo" class="logoNavBar">
      <span class="titleHome">Bienvenido</span>
      <span class="options-spacer"></span>
      <button class="buttonNotification" mat-icon-button (click)="togglePanel()">
        <svg xmlns="http://www.w3.org/2000/svg" height="30" viewBox="0 0 24 24" width="50" [attr.fill]="isNotification ? 'red' : '#0e2b53'" [ngClass]="{ 'bell-shaking': bellAnimating }">
          <path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 22c1.1 0 1.99-.9 1.99-2H10c0 1.1.89 2 2 2zm6-6V9c0-3.07-1.63-5.64-4.5-6.32V2.5a1.5 1.5 0 00-3 0v.18C7.63 3.36 6 5.92 6 9v7l-2 2v1h16v-1l-2-2z"/>
        </svg>
      </button>
      <button class="logOUT" (click)="toggleLogOut()">Cerrar sesion</button>
    </mat-toolbar>
  </div>
  <div class="ContentIncidencias">
    <!-- ACTIVO -->
    <div [style.flex]="isOpen === 'activos' ? '0.891' : '0 0 auto'" class="bugsActive">
      <div class="headerBugsActive">
        <span>Incidencias Activas</span>
        <svg class="arrow" *ngIf="isOpen === 'activos'" xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 0 24 24" width="40"
          fill="white">
          <!-- Triángulo hacia arriba -->
          <path d="M7 14l5-5 5 5z" />
        </svg>
        <svg class="arrow" *ngIf="isOpen != 'activos'" xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 0 24 24" width="40"
          fill="white">
          <!-- Triángulo hacia abajo -->
          <path d="M7 10l5 5 5-5z" />
        </svg>
        <!-- Botón invisible sobre todo el div -->
        <button mat-icon-button (click)="toggle('activos')" class="buttonBugActive"></button>
      </div>
      <div *ngIf="isOpen === 'activos'" class="contentBugsActive">
        <!--Content incidencias activos-->
        <div class="detailsContent">
         <!--Inicio del ngFor-->
          <div *ngFor="let persona of datos" style="width: 100%; height: 50px; position: relative; margin: 10px;">
            <!-- Div rojo arriba del item -->
            <div style="width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 1;">
              <button (click)="goToDetails()" style="width: 100%; height: 100%; background-color: blue; border: none; cursor: pointer;"></button>
            </div>
            <!-- Contenido (oculto debajo del div rojo) -->
            <div style="width: 100%; height: 24px; display: flex; position: relative; z-index: 0;">
              <div style="height: 100%; width: 50%;">
                <label
                  style="padding-left: 10px; display: flex; align-items: center; font-weight: bold;">Nombre:</label>
              </div>
              <div style="height: 100%; width: 50%;">
                <label
                  style="padding-right: 10px; display: flex; align-items: center; justify-content: flex-end; font-weight: bold;">Precio:</label>
              </div>
            </div>
            <!--Body-->
            <div style="width: 100%; height: 24px; display: flex; position: relative; z-index: 0;">
              <div style="width: 50%;">
                <label style="padding-left: 10px; display: flex; align-items: center;">
                  {{ persona.nombre }}
                </label>
              </div>
              <div style="width: 50%;">
                <label style="padding-right: 10px; display: flex; align-items: center; justify-content: flex-end;">
                  ${{ persona.precio }}
                </label>
              </div>
            </div>
            <!-- Línea divisoria -->
            <div style="background-color: rgba(152, 152, 152, 0.672); width: 97%; height: 1px; margin: 0 auto; position: relative; z-index: 0;"></div>
          </div>
          <!--fin del ngFor-->
        </div>
      </div>
    </div>
    <!-- PENDIENTES -->
    <div [style.flex]="isOpen === 'pendientes' ? '0.891' : '0 0 auto'" class="bugsActive">
      <div class="headerBugsActive">
        <span>Incidencias Pendientes</span>
        <svg class="arrow" *ngIf="isOpen === 'pendientes'" xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 0 24 24" width="40"
          fill="white">
          <!-- Triángulo hacia arriba -->
          <path d="M7 14l5-5 5 5z" />
        </svg>
        <svg class="arrow" *ngIf="isOpen != 'pendientes'" xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 0 24 24" width="40"
          fill="white">
          <!-- Triángulo hacia abajo -->
          <path d="M7 10l5 5 5-5z" />
        </svg>
        <!-- Botón invisible sobre todo el div -->
        <button mat-icon-button (click)="toggle('pendientes')" class="buttonBugActive"></button>
      </div>
      <div *ngIf="isOpen === 'pendientes'" class="contentBugsActive">
        <!--Content incidencias activos-->
        <div class="detailsContent">
          Contenido de Activos
        </div>
      </div>
    </div>
    <!-- COMPLETOS -->
    <div [style.flex]="isOpen === 'completos' ? '0.891' : '0 0 auto'" class="bugsDone">
      <div class="headerBugsActive">
        <span>Incidencias Completas</span>
        <svg class="arrow" *ngIf="isOpen === 'completos'" xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 0 24 24" width="40"
          fill="white">
          <!-- Triángulo hacia arriba -->
          <path d="M7 14l5-5 5 5z" />
        </svg>
        <svg class="arrow" *ngIf="isOpen != 'completos'" xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 0 24 24" width="40"
          fill="white">
          <!-- Triángulo hacia abajo -->
          <path d="M7 10l5 5 5-5z" />
        </svg>
        <!-- Botón invisible sobre todo el div -->
        <button mat-icon-button (click)="toggle('completos')" class="buttonBugActive"></button>
      </div>
      <div *ngIf="isOpen === 'completos'" class="contentBugsActive">
        <!--Content incidencias activos-->
        <div class="detailsContent">
          Contenido de Activos
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Panel flotante a la derecha -->
<div *ngIf="panelVisible" class="panelNotifications">
  <p class="titleNotifications">Centro de Notificaciones</p>
  <app-notifications class="componentNotifications"></app-notifications>
  <button class="footer-button" mat-button color="accent" (click)="togglePanel()">Cerrar</button>
</div>